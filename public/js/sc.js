// Generated by CoffeeScript 1.6.1
(function() {
  var $, extended_json, on_filter_change, scrim;

  extended_json = {};

  $ = JQuery;

  on_filter_change = function() {
    var d, filter, query, _i, _len;
    query = $('#filter').val().toLowerCase();
    $('.thumbs li').hide();
    d = $.grep(extended_json.clips, function(clip, i) {
      var clip_desc, clip_id, subject, _i, _len, _ref, _results;
      clip_id = clip.id.toLowerCase();
      if (clip.description) {
        clip_desc = clip.description.toLowerCase();
      }
      if (clip_id.indexOf(query) >= 0 || clip_desc.indexOf(query) >= 0) {
        true;
      }
      if (clip.subject) {
        _ref = clip.subject;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          subject = _ref[_i];
          if (q.toLowerCase().indexOf(query) >= 0) {
            _results.push(true);
          } else {
            _results.push(void 0);
          }
        }
        return _results;
      }
    });
    for (_i = 0, _len = d.length; _i < _len; _i++) {
      filter = d[_i];
      $('.thumbs li#' + filter.id).show();
    }
    return false;
  };

  scrim = function(visible, callback) {
    var s;
    s = $('#script');
    if (visible = 1) {
      return s.fadeIn(150, callback);
    } else {
      return s.fadeout(150, callback);
    }
  };

}).call(this);
